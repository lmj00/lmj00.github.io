---
title: "RabbitMQ"
layout: post
---

### 개요 
업무 진행 중, 제조 공정 품질 데이터 관리 시스템에서 여러 시스템 간 실시간 알람이 필요했다.
초기에는 Redis Pub/Sub으로 구현했으나, **알람이 유실되면 안 되는 요구사항**이 있었기 때문에, 더 안정적인 메시징 시스템이 필요했다.

물론 Redis AOF(Append Only File)나 RDB(Snapshot) 방식을 사용해서 데이터 영속성을 확보할 수 있었지만, **Redis Pub/Sub은 영속성을 지원하지 않는다**는 근본적인 문제가 있었다.

좀 더 찾아보니 **Redis Stream** 방식으로도 내가 원하는 시스템을 구현 가능하다는 것을 알게 됐지만, 다음과 같은 한계가 있었다:

- Dead Letter Queue 직접 구현
- TTL, Max Length 직접 구현  
- 모니터링 UI 직접 구현
- 복잡도가 높아 유지보수 어려움

이를 대체할 메시지 큐 시스템으론 RabbitMQ와 Kafka를 선택해야 하는 상황이었다.

**Kafka**는 대용량 처리와 이벤트 스트리밍에 최적화되어 있고, 실시간 알림 시스템에도 사용할 수 있지만, 설정/운영이 복잡하고(Zookeeper, Broker, Partition 관리) 
현재 요구사항에는 오버엔지니어링이었다.

**RabbitMQ**는 실시간 메시징에 최적화되어 있고, 설정이 간단하며 필요한 기능(Dead Letter Queue, TTL, Manual ACK 등)을 기본 제공했다.

실시간 알림 시스템에는 RabbitMQ가 더 적합하다고 판단하여 **RabbitMQ**를 최종 선택했다.


### RabbitMQ

### Manual ACK

### OutBox Pattern


