---
title: "api_view"
layout: post
categories: drf
---


## [@api_view()](https://www.django-rest-framework.org/api-guide/views/)
- DRF에서 Django의 HttpRequest, HttpResponse 대신 Request, Response로 요청 처리
- Django의 View 클래스를 상속받음


## 클래스형 뷰로 바꾸기
```python
from rest_framework.views import APIView
...

class SnippetList(APIView):
    def get(self, request):
        snippets = Snippet.objects.all()
        serializer = SnippetSerializer(snippets, many=True)
        return Response(serializer.data, status=status.HTTP_200_OK)
        
    def post(self, request):
        serializer = SnippetSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
```
- 클래스에 함수를 추가 했기 때문에 self 파라미터를 받음

<br>

```python
urlpatterns = [
    path('snippets', SnippetList.as_view()),
]
```
- urls.py에선 view를 호출   